2025-09-22T05:15:27.415Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 10:45:27 GMT+0530 (India Standard Time)","process":{"pid":37653,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151252992,"heapTotal":93863936,"heapUsed":58326136,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[0.6,0.46,0.4],"uptime":4671.75},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:28:47.086Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 10:58:47 GMT+0530 (India Standard Time)","process":{"pid":43974,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151261184,"heapTotal":93601792,"heapUsed":62117824,"external":7092445,"arrayBuffers":3724849}},"os":{"loadavg":[1.01,0.84,0.61],"uptime":5471.43},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:29:04.004Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 10:59:04 GMT+0530 (India Standard Time)","process":{"pid":44162,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":150884352,"heapTotal":93863936,"heapUsed":58316632,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[1.06,0.87,0.62],"uptime":5488.34},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:29:18.466Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 10:59:18 GMT+0530 (India Standard Time)","process":{"pid":44375,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151085056,"heapTotal":93863936,"heapUsed":58207736,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[1.21,0.91,0.64],"uptime":5502.81},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:29:30.244Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 10:59:30 GMT+0530 (India Standard Time)","process":{"pid":44544,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":150880256,"heapTotal":94650368,"heapUsed":58017424,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[1.41,0.96,0.66],"uptime":5514.58},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:29:43.817Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 10:59:43 GMT+0530 (India Standard Time)","process":{"pid":44704,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151371776,"heapTotal":93863936,"heapUsed":58172600,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[1.55,1.01,0.68],"uptime":5528.16},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:29:58.125Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 10:59:58 GMT+0530 (India Standard Time)","process":{"pid":44868,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":150880256,"heapTotal":93601792,"heapUsed":57843168,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[2.62,1.26,0.76],"uptime":5542.46},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:30:03.054Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 11:00:03 GMT+0530 (India Standard Time)","process":{"pid":44950,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151609344,"heapTotal":94126080,"heapUsed":58099632,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[2.49,1.26,0.77],"uptime":5547.39},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:30:05.061Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 11:00:05 GMT+0530 (India Standard Time)","process":{"pid":45001,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":150790144,"heapTotal":93339648,"heapUsed":57968488,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[2.49,1.26,0.77],"uptime":5549.4},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:30:11.380Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 11:00:11 GMT+0530 (India Standard Time)","process":{"pid":45168,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":150949888,"heapTotal":93601792,"heapUsed":58090848,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[2.29,1.24,0.76],"uptime":5555.72},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:30:14.802Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 11:00:14 GMT+0530 (India Standard Time)","process":{"pid":45255,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151728128,"heapTotal":93601792,"heapUsed":58086664,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[2.27,1.25,0.77],"uptime":5559.14},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:31:11.204Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 11:01:11 GMT+0530 (India Standard Time)","process":{"pid":45754,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151379968,"heapTotal":93601792,"heapUsed":58171112,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[1.6,1.26,0.8],"uptime":5615.54},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:35:46.623Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 11:05:46 GMT+0530 (India Standard Time)","process":{"pid":47727,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":150999040,"heapTotal":93601792,"heapUsed":57833464,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[0.92,1,0.82],"uptime":5890.96},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:35:50.141Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 11:05:50 GMT+0530 (India Standard Time)","process":{"pid":47804,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151339008,"heapTotal":94126080,"heapUsed":58057528,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[0.92,1,0.82],"uptime":5894.48},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:36:23.500Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 11:06:23 GMT+0530 (India Standard Time)","process":{"pid":48068,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":150982656,"heapTotal":93601792,"heapUsed":57921664,"external":7029849,"arrayBuffers":3662253}},"os":{"loadavg":[0.75,0.95,0.81],"uptime":5927.84},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:37:20.842Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 11:07:20 GMT+0530 (India Standard Time)","process":{"pid":48535,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151588864,"heapTotal":93863936,"heapUsed":62336792,"external":7092268,"arrayBuffers":3724672}},"os":{"loadavg":[0.54,0.85,0.78],"uptime":5985.18},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T05:45:25.235Z [error] : uncaughtException: Cannot find module '../controllers/lead.controller'
Require stack:
- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js
- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/index.js
- /var/www/html/bluesky-crm-nodejs-api/api/index.js
- /var/www/html/bluesky-crm-nodejs-api/index.js
Error: Cannot find module '../controllers/lead.controller'
Require stack:
- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js
- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/index.js
- /var/www/html/bluesky-crm-nodejs-api/api/index.js
- /var/www/html/bluesky-crm-nodejs-api/index.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1225:15)
    at Module._load (node:internal/modules/cjs/loader:1051:27)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at Object.<anonymous> (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js:3:20)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19) {"error":{"code":"MODULE_NOT_FOUND","requireStack":["/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js","/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/index.js","/var/www/html/bluesky-crm-nodejs-api/api/index.js","/var/www/html/bluesky-crm-nodejs-api/index.js"]},"stack":"Error: Cannot find module '../controllers/lead.controller'\nRequire stack:\n- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js\n- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/index.js\n- /var/www/html/bluesky-crm-nodejs-api/api/index.js\n- /var/www/html/bluesky-crm-nodejs-api/index.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1225:15)\n    at Module._load (node:internal/modules/cjs/loader:1051:27)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js:3:20)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","exception":true,"date":"Mon Sep 22 2025 11:15:25 GMT+0530 (India Standard Time)","process":{"pid":54111,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":120729600,"heapTotal":66453504,"heapUsed":39691024,"external":3264578,"arrayBuffers":67378}},"os":{"loadavg":[0.64,0.9,0.85],"uptime":6469.57},"trace":[{"column":15,"file":"node:internal/modules/cjs/loader","function":"Module._resolveFilename","line":1225,"method":"_resolveFilename","native":false},{"column":27,"file":"node:internal/modules/cjs/loader","function":"Module._load","line":1051,"method":"_load","native":false},{"column":19,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1311,"method":"require","native":false},{"column":18,"file":"node:internal/modules/helpers","function":"require","line":179,"method":null,"native":false},{"column":20,"file":"/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js","function":null,"line":3,"method":null,"native":false},{"column":14,"file":"node:internal/modules/cjs/loader","function":"Module._compile","line":1469,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":"Module._extensions..js","line":1548,"method":".js","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1288,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Module._load","line":1104,"method":"_load","native":false},{"column":19,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1311,"method":"require","native":false}]}
2025-09-22T05:47:13.687Z [error] : uncaughtException: Cannot find module '../controllers/lead.controller'
Require stack:
- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js
- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/index.js
- /var/www/html/bluesky-crm-nodejs-api/api/index.js
- /var/www/html/bluesky-crm-nodejs-api/index.js
Error: Cannot find module '../controllers/lead.controller'
Require stack:
- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js
- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/index.js
- /var/www/html/bluesky-crm-nodejs-api/api/index.js
- /var/www/html/bluesky-crm-nodejs-api/index.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1225:15)
    at Module._load (node:internal/modules/cjs/loader:1051:27)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at Object.<anonymous> (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js:3:20)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19) {"error":{"code":"MODULE_NOT_FOUND","requireStack":["/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js","/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/index.js","/var/www/html/bluesky-crm-nodejs-api/api/index.js","/var/www/html/bluesky-crm-nodejs-api/index.js"]},"stack":"Error: Cannot find module '../controllers/lead.controller'\nRequire stack:\n- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js\n- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/index.js\n- /var/www/html/bluesky-crm-nodejs-api/api/index.js\n- /var/www/html/bluesky-crm-nodejs-api/index.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1225:15)\n    at Module._load (node:internal/modules/cjs/loader:1051:27)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js:3:20)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","exception":true,"date":"Mon Sep 22 2025 11:17:13 GMT+0530 (India Standard Time)","process":{"pid":55484,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":121790464,"heapTotal":66453504,"heapUsed":39614320,"external":3264578,"arrayBuffers":67378}},"os":{"loadavg":[0.88,0.95,0.87],"uptime":6578.03},"trace":[{"column":15,"file":"node:internal/modules/cjs/loader","function":"Module._resolveFilename","line":1225,"method":"_resolveFilename","native":false},{"column":27,"file":"node:internal/modules/cjs/loader","function":"Module._load","line":1051,"method":"_load","native":false},{"column":19,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1311,"method":"require","native":false},{"column":18,"file":"node:internal/modules/helpers","function":"require","line":179,"method":null,"native":false},{"column":20,"file":"/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js","function":null,"line":3,"method":null,"native":false},{"column":14,"file":"node:internal/modules/cjs/loader","function":"Module._compile","line":1469,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":"Module._extensions..js","line":1548,"method":".js","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1288,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Module._load","line":1104,"method":"_load","native":false},{"column":19,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1311,"method":"require","native":false}]}
2025-09-22T05:47:17.239Z [error] : uncaughtException: Cannot find module '../controllers/lead.controller'
Require stack:
- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js
- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/index.js
- /var/www/html/bluesky-crm-nodejs-api/api/index.js
- /var/www/html/bluesky-crm-nodejs-api/index.js
Error: Cannot find module '../controllers/lead.controller'
Require stack:
- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js
- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/index.js
- /var/www/html/bluesky-crm-nodejs-api/api/index.js
- /var/www/html/bluesky-crm-nodejs-api/index.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1225:15)
    at Module._load (node:internal/modules/cjs/loader:1051:27)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at Object.<anonymous> (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js:3:20)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19) {"error":{"code":"MODULE_NOT_FOUND","requireStack":["/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js","/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/index.js","/var/www/html/bluesky-crm-nodejs-api/api/index.js","/var/www/html/bluesky-crm-nodejs-api/index.js"]},"stack":"Error: Cannot find module '../controllers/lead.controller'\nRequire stack:\n- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js\n- /var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/index.js\n- /var/www/html/bluesky-crm-nodejs-api/api/index.js\n- /var/www/html/bluesky-crm-nodejs-api/index.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1225:15)\n    at Module._load (node:internal/modules/cjs/loader:1051:27)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js:3:20)\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\n    at Module.require (node:internal/modules/cjs/loader:1311:19)","exception":true,"date":"Mon Sep 22 2025 11:17:17 GMT+0530 (India Standard Time)","process":{"pid":55577,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":121540608,"heapTotal":66453504,"heapUsed":39508120,"external":3264578,"arrayBuffers":67378}},"os":{"loadavg":[0.97,0.96,0.88],"uptime":6581.58},"trace":[{"column":15,"file":"node:internal/modules/cjs/loader","function":"Module._resolveFilename","line":1225,"method":"_resolveFilename","native":false},{"column":27,"file":"node:internal/modules/cjs/loader","function":"Module._load","line":1051,"method":"_load","native":false},{"column":19,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1311,"method":"require","native":false},{"column":18,"file":"node:internal/modules/helpers","function":"require","line":179,"method":null,"native":false},{"column":20,"file":"/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/routes/leads.routes.js","function":null,"line":3,"method":null,"native":false},{"column":14,"file":"node:internal/modules/cjs/loader","function":"Module._compile","line":1469,"method":"_compile","native":false},{"column":10,"file":"node:internal/modules/cjs/loader","function":"Module._extensions..js","line":1548,"method":".js","native":false},{"column":32,"file":"node:internal/modules/cjs/loader","function":"Module.load","line":1288,"method":"load","native":false},{"column":12,"file":"node:internal/modules/cjs/loader","function":"Module._load","line":1104,"method":"_load","native":false},{"column":19,"file":"node:internal/modules/cjs/loader","function":"Module.require","line":1311,"method":"require","native":false}]}
2025-09-22T06:07:14.100Z [error] : SequelizeDatabaseError : invalid input value for enum enum_user_role: "admin" Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.insert (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)
    at async model.save (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:2490:35)
    at async user.create (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1362:12)
    at async Object.register (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:10:18)
    at async register (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:39:7) 
2025-09-22T09:41:58.770Z [error] : SequelizeDatabaseError : invalid input value for enum enum_user_role: "admin" Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.insert (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)
    at async model.save (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:2490:35)
    at async user.create (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1362:12)
    at async Object.register (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:10:18)
    at async register (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:39:7) 
2025-09-22T09:45:01.674Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:15:01 GMT+0530 (India Standard Time)","process":{"pid":191256,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151142400,"heapTotal":94388224,"heapUsed":62053784,"external":7092518,"arrayBuffers":3724922}},"os":{"loadavg":[0.23,0.71,0.8],"uptime":20846.01},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T09:45:25.040Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:15:25 GMT+0530 (India Standard Time)","process":{"pid":191471,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151879680,"heapTotal":94126080,"heapUsed":58081376,"external":7029962,"arrayBuffers":3662366}},"os":{"loadavg":[0.31,0.68,0.79],"uptime":20869.38},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T09:45:34.107Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:15:34 GMT+0530 (India Standard Time)","process":{"pid":191593,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151236608,"heapTotal":93339648,"heapUsed":57950888,"external":7029962,"arrayBuffers":3662366}},"os":{"loadavg":[0.36,0.69,0.79],"uptime":20878.45},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T09:45:40.403Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:15:40 GMT+0530 (India Standard Time)","process":{"pid":191683,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":150925312,"heapTotal":94126080,"heapUsed":58023056,"external":7029962,"arrayBuffers":3662366}},"os":{"loadavg":[0.63,0.73,0.8],"uptime":20884.74},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T09:45:44.106Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:15:44 GMT+0530 (India Standard Time)","process":{"pid":191754,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151031808,"heapTotal":93601792,"heapUsed":58157592,"external":7029962,"arrayBuffers":3662366}},"os":{"loadavg":[0.63,0.73,0.8],"uptime":20888.45},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T09:45:52.801Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:15:52 GMT+0530 (India Standard Time)","process":{"pid":191850,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151339008,"heapTotal":93863936,"heapUsed":58106968,"external":7029962,"arrayBuffers":3662366}},"os":{"loadavg":[0.77,0.76,0.81],"uptime":20897.14},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T09:46:01.451Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:16:01 GMT+0530 (India Standard Time)","process":{"pid":191972,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151269376,"heapTotal":94126080,"heapUsed":57860624,"external":7029962,"arrayBuffers":3662366}},"os":{"loadavg":[0.87,0.78,0.82],"uptime":20905.79},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T09:46:18.888Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:16:18 GMT+0530 (India Standard Time)","process":{"pid":192125,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151736320,"heapTotal":94126080,"heapUsed":58300248,"external":7029962,"arrayBuffers":3662366}},"os":{"loadavg":[0.75,0.76,0.81],"uptime":20923.23},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T09:50:12.588Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:20:12 GMT+0530 (India Standard Time)","process":{"pid":193867,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":150937600,"heapTotal":94388224,"heapUsed":58508128,"external":7081995,"arrayBuffers":3714399}},"os":{"loadavg":[1.95,1.1,0.92],"uptime":21156.93},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T09:50:32.545Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:20:32 GMT+0530 (India Standard Time)","process":{"pid":194066,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151498752,"heapTotal":93863936,"heapUsed":59081088,"external":7082416,"arrayBuffers":3714820}},"os":{"loadavg":[1.48,1.04,0.9],"uptime":21176.88},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T09:50:53.694Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:20:53 GMT+0530 (India Standard Time)","process":{"pid":194323,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":150720512,"heapTotal":93601792,"heapUsed":58924904,"external":7082576,"arrayBuffers":3714980}},"os":{"loadavg":[1.28,1.02,0.9],"uptime":21198.03},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T09:51:17.473Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:21:17 GMT+0530 (India Standard Time)","process":{"pid":194639,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151158784,"heapTotal":93601792,"heapUsed":58966528,"external":7082752,"arrayBuffers":3715156}},"os":{"loadavg":[1.08,0.99,0.89],"uptime":21221.81},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T09:51:22.399Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:21:22 GMT+0530 (India Standard Time)","process":{"pid":194723,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":150999040,"heapTotal":93863936,"heapUsed":58417024,"external":7039229,"arrayBuffers":3671633}},"os":{"loadavg":[1.4,1.06,0.91],"uptime":21226.74},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T10:04:04.422Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 15:34:04 GMT+0530 (India Standard Time)","process":{"pid":199813,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":150953984,"heapTotal":94126080,"heapUsed":58201168,"external":7039229,"arrayBuffers":3671633}},"os":{"loadavg":[0.62,0.77,0.87],"uptime":21988.76},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T10:12:02.106Z [error] : SequelizeDatabaseError : column "user_type" of relation "users" does not exist Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.insert (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)
    at async model.save (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:2490:35)
    at async users.create (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1362:12)
    at async Object.register (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:10:18)
    at async register (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:39:7) 
2025-09-22T10:14:45.876Z [error] : SequelizeDatabaseError : column "createdAt" of relation "users" does not exist Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.insert (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)
    at async model.save (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:2490:35)
    at async users.create (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1362:12)
    at async Object.register (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:10:18)
    at async register (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:39:7) 
2025-09-22T11:52:57.839Z [error] : SequelizeDatabaseError : invalid input value for enum enum_users_role: "hr" Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.insert (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)
    at async model.save (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:2490:35)
    at async users.create (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1362:12)
    at async Object.register (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:10:18)
    at async register (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:39:7) 
2025-09-22T12:13:43.376Z [error] : SequelizeDatabaseError : relation "departments" does not exist Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:122:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:183:20) 
2025-09-22T12:17:36.057Z [error] : SequelizeDatabaseError : relation "departments" does not exist Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:122:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:183:20) 
2025-09-22T12:18:17.248Z [error] : SequelizeDatabaseError : relation "departments" does not exist Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:122:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:183:20) 
2025-09-22T12:18:18.217Z [error] : SequelizeDatabaseError : relation "departments" does not exist Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:122:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:183:20) 
2025-09-22T12:19:29.838Z [error] : SequelizeDatabaseError : relation "departments" does not exist Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:122:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:183:20) 
2025-09-22T12:19:30.888Z [error] : SequelizeDatabaseError : relation "departments" does not exist Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:122:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:183:20) 
2025-09-22T12:21:26.941Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 17:51:26 GMT+0530 (India Standard Time)","process":{"pid":257718,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151728128,"heapTotal":94126080,"heapUsed":62324480,"external":7093656,"arrayBuffers":3726060}},"os":{"loadavg":[0.94,1.07,1.05],"uptime":30231.28},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T12:23:43.177Z [error] : SequelizeDatabaseError : operator does not exist: character varying = integer Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:122:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:183:20) 
2025-09-22T12:23:57.405Z [error] : uncaughtException: foreign key constraint "saleMaterialQuoteItems_uom_fkey" cannot be implemented
Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)
    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)
    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9) {"error":{"name":"SequelizeDatabaseError","parent":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"original":{"length":237,"name":"error","severity":"ERROR","code":"42804","detail":"Key columns \"uom\" and \"id\" are of incompatible types: character varying and bigint.","file":"tablecmds.c","line":"9896","routine":"ATAddForeignKeyConstraint","sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));"},"sql":"CREATE TABLE IF NOT EXISTS \"saleMaterialQuoteItems\" (\"id\"   SERIAL , \"material_quote_id\" INTEGER REFERENCES \"saleMaterialQuoteAdditionals\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"item\" INTEGER REFERENCES \"items\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"qty\" VARCHAR(255), \"cost\" VARCHAR(255), \"margin\" VARCHAR(255), \"commission\" VARCHAR(255), \"price\" VARCHAR(255), \"total\" VARCHAR(255), \"uom\" VARCHAR(255) REFERENCES \"units\" (\"id\") ON DELETE SET NULL ON UPDATE CASCADE, \"std_cost\" VARCHAR(255), \"list_price\" VARCHAR(255), \"notes\" TEXT, \"onOrder\" VARCHAR(255), \"bo\" VARCHAR(255), \"other1\" VARCHAR(255), \"requestedDate\" TIMESTAMP WITH TIME ZONE, \"warehouse\" VARCHAR(255), \"costPer\" VARCHAR(255), \"expectedDate\" TIMESTAMP WITH TIME ZONE, \"receivedToDate\" TIMESTAMP WITH TIME ZONE, \"openTotal\" VARCHAR(255), \"transferToWarehouse\" VARCHAR(255), \"origin\" VARCHAR(255), \"other2\" VARCHAR(255), \"discPct\" VARCHAR(255), \"description\" VARCHAR(255), \"extPrice\" VARCHAR(255), \"sort_order\" INTEGER, \"tax\" VARCHAR(255), \"region\" INTEGER, \"taxCode\" VARCHAR(255), \"created_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"updated_at\" TIMESTAMP WITH TIME ZONE NOT NULL, \"deleted_at\" TIMESTAMP WITH TIME ZONE, PRIMARY KEY (\"id\"));","parameters":{}},"stack":"Error\n    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)\n    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async PostgresQueryInterface.createTable (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:98:12)\n    at async saleMaterialQuoteItems.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:942:7)\n    at async Sequelize.sync (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:377:9)","exception":true,"date":"Mon Sep 22 2025 17:53:57 GMT+0530 (India Standard Time)","process":{"pid":258965,"uid":1000,"gid":1000,"cwd":"/var/www/html/bluesky-crm-nodejs-api","execPath":"/home/parul/.nvm/versions/node/v20.18.0/bin/node","version":"v20.18.0","argv":["/home/parul/.nvm/versions/node/v20.18.0/bin/node","/var/www/html/bluesky-crm-nodejs-api/index.js"],"memoryUsage":{"rss":151224320,"heapTotal":93863936,"heapUsed":58307424,"external":7039214,"arrayBuffers":3671618}},"os":{"loadavg":[1.39,1.14,1.07],"uptime":30381.74},"trace":[{"column":25,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js","function":"Query.run","line":50,"method":"run","native":false},{"column":28,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":null,"line":315,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":12,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js","function":"async PostgresQueryInterface.createTable","line":98,"method":"createTable","native":false},{"column":7,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js","function":"async saleMaterialQuoteItems.sync","line":942,"method":"sync","native":false},{"column":9,"file":"/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js","function":"async Sequelize.sync","line":377,"method":"sync","native":false}]}
2025-09-22T12:24:17.883Z [error] : SequelizeDatabaseError : operator does not exist: character varying = integer Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:122:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:183:20) 
2025-09-22T12:27:18.533Z [error] : SequelizeDatabaseError : operator does not exist: character varying = integer Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:123:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:183:20) 
2025-09-22T12:27:21.657Z [error] : SequelizeDatabaseError : operator does not exist: character varying = integer Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:123:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:183:20) 
2025-09-22T12:27:53.923Z [error] : SequelizeDatabaseError : operator does not exist: character varying = integer Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:123:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:185:20) 
2025-09-22T12:28:13.195Z [error] : SequelizeDatabaseError : operator does not exist: character varying = integer Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:123:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:185:20) 
2025-09-22T12:28:30.522Z [error] : SequelizeDatabaseError : operator does not exist: character varying = integer Error
    at Query.run (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.select (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async users.findAll (/var/www/html/bluesky-crm-nodejs-api/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/services/auth.services.js:123:19)
    at async getUserById (/var/www/html/bluesky-crm-nodejs-api/api/v1.0.1/controllers/auth.controller.js:185:20) 
